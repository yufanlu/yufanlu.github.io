<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Setup Neovim for Latex · Yufan Lu</title><meta name="description" content="Setup Neovim for Latex - Yufan Lu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yufanlu.net/atom.xml" title="Yufan Lu"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.ico" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">Archives</a></li><li class="nav-list-item"><a href="https://github.com/yufanlu" target="_blank" class="nav-list-link">GitHub</a></li><li class="nav-list-item"><a href="https://ca.linkedin.com/in/luyufan" target="_blank" class="nav-list-link">LinkedIn</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Setup Neovim for Latex</h1><div class="post-info">Sep 3, 2018<span class="post-meta-divider">|</span><a href="/categories/neovim/" class="post-category">neovim</a></div><div class="post-content"><p>After finished <a href="/2018/09/03/neovim-python/" title="setup neovim for Python">setup neovim for Python</a>, here are the tools/software that we need to setup neovim for LaTex:</p>
<ul>
<li>neovim, python3, git</li>
<li><a href="https://mg.readthedocs.io/latexmk.html" target="_blank" rel="noopener">latexmk</a></li>
<li><a href="https://www.sumatrapdfreader.org/free-pdf-reader.html" target="_blank" rel="noopener">SumatraPDF</a> (if you use Windows)</li>
</ul>
<p>You can more information on neovim installation and neovim plugin manager (<a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener">vim-plug</a>) in the previous post <a href="/2018/09/03/neovim-python/" title="setup neovim for Python">setup neovim for Python</a>.</p>
<p>First, we add the following three plugins into our configuration file (<code>init.vim</code>) in our “<strong>plugin list</strong>“.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">" Plugins List</span></div><div class="line"><span class="keyword">call</span> plug#begin(<span class="variable">g:plugged_home</span>)</div><div class="line"></div><div class="line">    <span class="comment">" other plugins...</span></div><div class="line"></div><div class="line">    <span class="comment">" --------- adding the following three plugins for Latex ---------</span></div><div class="line">    Plug <span class="string">'lervag/vimtex'</span></div><div class="line">    Plug <span class="string">'Konfekt/FastFold'</span></div><div class="line">    Plug <span class="string">'matze/vim-tex-fold'</span></div><div class="line"></div><div class="line">    <span class="comment">" other plugins...</span></div><div class="line"></div><div class="line"><span class="keyword">call</span> plug#end()</div></pre></td></tr></table></figure>
<p>Then we can close and reopen our neovim, run <code>:PlugInstall</code> to install the above three plugins.</p>
<h2 id="python-package-for-pdf-compilation-auto-refresh"><a href="#python-package-for-pdf-compilation-auto-refresh" class="headerlink" title="python package for pdf compilation auto refresh"></a>python package for pdf compilation auto refresh</h2><p>In order to let our LaTex plugin <code>vimtex</code> refresh compiled pdf in real time, we need to install one python package:</p>
<blockquote>
<p>pip install neovim-remote</p>
</blockquote>
<p>In addition, if you use Adobe Reader as your pdf viewer the real time refresh will report error since Adobe Reader will put a lock on the pdf file.</p>
<h2 id="Vimtex-Plugin-settings"><a href="#Vimtex-Plugin-settings" class="headerlink" title="Vimtex Plugin settings"></a>Vimtex Plugin settings</h2><p>After we have the plugins installed, let’s paste the following settings for <code>vimtex</code> into our configuration file (<code>init.vim</code>)</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="variable">g:tex_flavor</span>  = <span class="string">'latex'</span></div><div class="line"><span class="keyword">let</span> <span class="variable">g:tex_conceal</span> = <span class="string">''</span></div><div class="line"><span class="keyword">let</span> <span class="variable">g:vimtex_fold_manual</span> = <span class="number">1</span></div><div class="line"><span class="keyword">let</span> <span class="variable">g:vimtex_latexmk_continuous</span> = <span class="number">1</span></div><div class="line"><span class="keyword">let</span> <span class="variable">g:vimtex_compiler_progname</span> = <span class="string">'nvr'</span></div><div class="line"></div><div class="line"><span class="comment">" use SumatraPDF if you are on Windows</span></div><div class="line"><span class="keyword">let</span> <span class="variable">g:vimtex_view_method</span> = <span class="string">'skim'</span></div></pre></td></tr></table></figure>
<p>Since we used <code>ncm2</code> as our completion plugin for vim, here is setting that we need to <strong>register</strong> LaTex code completion source for <code>ncm2</code></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">" NCM2</span></div><div class="line"><span class="keyword">augroup</span> NCM2</div><div class="line">  autocmd!</div><div class="line"></div><div class="line">  <span class="comment">" some other settings...</span></div><div class="line"></div><div class="line">  <span class="comment">" uncomment this block if you use vimtex for LaTex</span></div><div class="line">  <span class="keyword">autocmd</span> Filetype tex <span class="keyword">call</span> ncm2#register_source(&#123;</div><div class="line">            \ <span class="string">'name'</span>: <span class="string">'vimtex'</span>,</div><div class="line">            \ <span class="string">'priority'</span>: <span class="number">8</span>,</div><div class="line">            \ <span class="string">'scope'</span>: [<span class="string">'tex'</span>],</div><div class="line">            \ <span class="string">'mark'</span>: <span class="string">'tex'</span>,</div><div class="line">            \ <span class="string">'word_pattern'</span>: <span class="string">'\w+'</span>,</div><div class="line">            \ <span class="string">'complete_pattern'</span>: <span class="variable">g:vimtex</span>#re#ncm2,</div><div class="line">            \ <span class="string">'on_complete'</span>: [<span class="string">'ncm2#on_complete#omni'</span>, <span class="string">'vimtex#complete#omnifunc'</span>],</div><div class="line">            \ &#125;)</div><div class="line"><span class="keyword">augroup</span> END</div></pre></td></tr></table></figure>
<h2 id="Vimtex-In-Action"><a href="#Vimtex-In-Action" class="headerlink" title="Vimtex In Action"></a>Vimtex In Action</h2><p>Now suppose we have a simple <code>.tex</code> file showing below</p>
<img src="/2018/09/03/neovim-latex/latex_file.png">
<p>And here are the commands that we would use</p>
<ul>
<li><code>VimtexCompile</code>: Start compiling the LaTex Code (in continuous mode since we set it above)</li>
<li><code>VimtexView</code>: Open the compiled pdf using the </li>
<li><code>VimtexErrors</code>: Display errors (if any) in the current file </li>
</ul>
<p>and we can see the real-time update as we write the file.</p>
<img src="/2018/09/03/neovim-latex/latex-1.gif">
<img src="/2018/09/03/neovim-latex/latex-2.gif">
</div></article><div class="post-tags"><a href="/tags/neovim/" class="post-tag"># neovim</a><a href="/tags/LaTex/" class="post-tag"># LaTex</a></div></div></main><footer><div class="paginator"><a href="/2018/09/03/neovim-python/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'yufanlu';
var disqus_identifier = '2018/09/03/neovim-latex/';
var disqus_title = 'Setup Neovim for Latex';
var disqus_url = 'http://yufanlu.net/2018/09/03/neovim-latex/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//yufanlu.disqus.com/count.js" async></script><div class="copyright"><p>© 2016 - 2018 <a href="http://yufanlu.net">Yufan Lu</a>. This is a personal weblog. All the information provided on yufanlu.net is expressed opinion of myself, Yufan Lu and not others. This includes (but is not limited to) my membership organizations and/or employers. Any notes or knowledge summaries posted serves as personal remainders and for personal reference purpose only (and they might be wrong). Before making any decisions or taking any actions, you should consult a professional adviser. Under no circumstances will I be liable for any loss or damages (including without limitation indirect or consequential loss or damages) or any loss or damages whatsoever arising from loss of data or profits arising out of or in connection with the use of this website.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-80837966-1",'auto');ga('send','pageview');</script></body></html>